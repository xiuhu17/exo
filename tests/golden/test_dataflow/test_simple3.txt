def foo(z : R, n : size, x : R[3]):
  ----------------------- {}
  z_1 = \phi(True ? 4.2 : z)
  ----------------------- {}
  x_1 =\d0 \phi(d0 == 0 and True ? 2.0 : x[d0])
  ----------------------- {}
  if n < 3:
    --------------------- {}
    x_2 =\d0 \phi(d0 == n and True ? 3.0 : x_1[d0])
    --------------------- {}
  else:
    --------------------- {}
  ----------------------- {}
  z_2 = \phi(n < 3 ? z_1 : z_1) # IfJoin
  ----------------------- {}
  x_3 =\d0 \phi(n < 3 ? x_2[d0] : x_1[d0]) # IfJoin
  ----------------------- {}
  x_4 =\d0 \phi(d0 == 2 and True ? 5.0 : x_3[d0])
  ----------------------- {}
  x_5 =\d0 \phi(d0 == 0 and True ? 12.0 : x_4[d0])
  ----------------------- {}