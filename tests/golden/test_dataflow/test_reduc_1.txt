def foo(N : size, dst : f32, src : f32):
  ----------------------- {}
  dst_1 =\d0 \phi(d0 == 0 and True ? 1.0 : dst[d0])
  ----------------------- {}
  for i in seq(0, N - 1):
    --------------------- {}
    dst_2 =\i \d0 \phi(i == 0 ? dst_1[d0] : dst_3[i - 1, d0])
    --------------------- {}
    src_1 =\i \d0_1 \phi(i == 0 ? src[d0_1] : src_2[i - 1, d0_1])
    --------------------- {}
    if i == 1:
      ------------------- {}
      dst_4 =\i \d0 \phi(d0 == i and True ? dst_2[i, i - 1] - src_1[i, i] : dst_2[i, d0])
      ------------------- {}
    else:
      ------------------- {}
    --------------------- {}
    dst_5 =\i \d0 \phi(i == 1 ? dst_4[i, d0] : dst_2[i, d0])
    --------------------- {}
    src_2 =\i \d0_1 \phi(i == 1 ? src_1[i, d0_1] : src_1[i, d0_1])
    --------------------- {}
    dst_6 +=\i \d0 \phi(d0 == i and True ? src_2[i, i] : dst_5[i, d0])
    --------------------- {}
    dst_3 =\i \d0 \phi(d0 == i + 1 and True ? 3.0 : dst_6[i, d0])
    --------------------- {}
  ----------------------- {}
  dst_7 =\d0 \phi(i > 0 ? dst_3[N - 1 - 1, d0] : dst_1[d0])
  ----------------------- {}
  src_3 =\d0_1 \phi(i > 0 ? src_2[N - 1 - 1, d0_1] : src[d0_1])
  ----------------------- {}